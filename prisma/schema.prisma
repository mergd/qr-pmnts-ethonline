generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model connectiondata {
  connectionid   Int      @id
  expiry         DateTime @db.Date
  currency       Int?     @default(0)
  amount         BigInt?  @default(0)
  description    String?
  additionalData String? // JSON data of additional data
  fulfilled      Boolean? @default(false)
  txhash         String?
}

model fundconnection {
  connection_code String  @id
  privy_uuid      String?
}

model fundingsrc {
  approveamt BigInt?
  srcaddr    String?
  privyuuid  String?
  uuid       String?
  currency   Int?
  preferred  Boolean? @default(false)
  id         String   @id @default(uuid())

  @@unique([privyuuid, srcaddr, currency], name: "privyuuid_srcaddr_currency")
}

model usertable {
  privyuuid    String  @id
  useraddr     String? @unique
  contractuuid String? @unique
}

model usertxs {
  txhash      String    @id
  privyuuid   Int
  amount      BigInt?   @default(0)
  type        String?
  description String?
  currency    Int?
  time        DateTime? @db.Date
}
